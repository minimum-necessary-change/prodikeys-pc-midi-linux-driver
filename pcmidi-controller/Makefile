# generated by cbp2makefile.py
# see http://pix.test.at/wiki/cbp2makefile for more info
# (Modified Version) [Ver. 1.0]

SHELL = /bin/bash
INSTALL = /usr/local/bin/install -c
bindir= /usrlocal/bin


DEBUG = 0

TARGETDIR =bin/
OBJDIR =obj/

ifeq ($(DEBUG),1)
TARGETDIR = bin/Debug/
OBJDIR = obj/Debug/
CFLAGS += -g
LDFLAGS += -g
else
TARGETDIR = bin/Release/
OBJDIR = obj/Release/
endif

CFLAGS += -Wall -DLINUX -O2 `wx-config --cxxflags`
LDFLAGS += -s `wx-config --libs`
LIBS += -lsysfs

$(shell   mkdir -p $(OBJDIR))
$(shell   mkdir -p $(TARGETDIR))

TARGET = pcmidi-controller

OBJS =  $(OBJDIR)GUIDialog.o \
	$(OBJDIR)pcmidi_controllerApp.o \
	$(OBJDIR)pcmidi_controllerMain.o \
	$(OBJDIR)pcmidi-sysfs.o

.PHONY: all
all: $(TARGET)

$(OBJDIR)GUIDialog.o: GUIDialog.cpp
	$(CC) -c $< -o $@ $(CFLAGS)
$(OBJDIR)pcmidi_controllerApp.o: pcmidi_controllerApp.cpp
	$(CC) -c $< -o $@ $(CFLAGS)
$(OBJDIR)pcmidi_controllerMain.o: pcmidi_controllerMain.cpp
	$(CC) -c $< -o $@ $(CFLAGS)
$(OBJDIR)pcmidi-sysfs.o: pcmidi-sysfs.cpp
	$(CC) -c $< -o $@ $(CFLAGS)

$(TARGET): $(OBJS)
	$(CC) -o $(TARGETDIR)$(TARGET) $(OBJS) $(LDFLAGS) $(LIBS)

clean:
	rm -r -f -v $(OBJDIR)*.o
	rm -f -v $(TARGETDIR)$(TARGET)

distclean: clean

install: $(TARGET)
	$(INSTALL) $(TARGETDIR)$(TARGET) $(bindir)

uninstall:
	rm -f $(bindir)/$(TARGET)

distribution:
	 tar cvzf pcmidi_controller.tar.gz -X pcmidi-exclude.txt ../pcmidi-controller/*
